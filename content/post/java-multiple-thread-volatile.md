---
title: "Java多线程学习之Volatile"
date: 2020-03-21T14:13:57+08:00
draft: true
---

## 什么是Volatile

volatile是轻量级的synchronized,它在多处理器开发中保证了共享变量的“可见性”。

## Volatile的实现原理

### CPU相关术语
| 术语     | 英文单词           | 术语描述                                                                                                                                                                               |
| ---------- | ---------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 内存屏障 | memory barriers        | 是一组处理器指令，用于实现对内存操作的顺序限制                                                                                                                      |
| 缓冲行  | cache line             | 缓存中可以分配的最小单位。处理器填写缓存线时会加载整个缓存线，需要使用多个主内存                                                                   |
| 原子操作 | atomic operations      | 不可中断的一个或一系列操作                                                                                                                                                    |
| 缓存行填充 | cache line fill        | 昂处理器识别到从内存中读取操作数是可缓存的，处理器读取整个缓存行到适当的缓存(L1,L2,L3的或所有）                                                 |
| 缓存命中 | cache hit              | 如果进行高速缓存行填充操作的内存位置仍然是下次处理器访问的地址时，处理器从缓存行中读取操作数，而不是从内存中读取                   |
| 写命中  | write hit              | 当处理器将操作数写回到一个内存缓存的区域时，它首先会检查这个缓存的内存地址是否在缓存行中，如果存在一个有效的缓存行，则处理器将这个操作数写回到缓存，而不是写回到内存，这个操作被称为写命中 |
| 写缺失  | write misses the cache | 一个有效的缓存行被写入到不存在的内存区域  
### Volatile如何保证可见性

### Volatile的两条实现原则


